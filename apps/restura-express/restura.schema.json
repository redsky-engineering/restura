{
	"customTypes": [
		"export interface FilteredUser {\n    id: number;\n\tcompanyId: number;\n\tfirstName: string;\n\tlastName: string;\n\temail: string;\n\trole: string;\n\tphone: string;\n\tlastLoginOn: string;\n}",
		"export interface AuthResponse {\n    token: string;\n    tokenExp: string;\n    refreshToken: string;\n    refreshTokenExp: string;\n}",
		"export interface WeatherResponse {\n    currentTemperatureF: number;\n    sunrise: string;\n    sunset: string;\n    pressure: number;\n    humidityPercent: number;\n    windSpeedMph: number;\n    windDirection: string;\n    tomorrowHighF: number;\n    tomorrowLowF: number;\n}",
		"export interface Test extends Restura.PageQuery {\n    test: string;\n}"
	],
	"database": [
		{
			"checkConstraints": [],
			"columns": [
				{
					"hasAutoIncrement": true,
					"isNullable": false,
					"isPrimary": true,
					"name": "id",
					"roles": [],
					"scopes": [],
					"type": "BIGSERIAL"
				},
				{
					"default": "now()",
					"isNullable": false,
					"name": "createdOn",
					"roles": [],
					"scopes": [],
					"type": "DATETIME"
				},
				{
					"default": "now()",
					"isNullable": false,
					"name": "modifiedOn",
					"roles": [],
					"scopes": [],
					"type": "DATETIME"
				},
				{
					"comment": "Foreign key to order(id)",
					"isNullable": false,
					"name": "orderId",
					"roles": [],
					"scopes": [],
					"type": "BIGINT"
				}
			],
			"foreignKeys": [
				{
					"column": "orderId",
					"name": "item_orderId_order_id_fk",
					"onDelete": "NO ACTION",
					"onUpdate": "NO ACTION",
					"refColumn": "id",
					"refTable": "order"
				}
			],
			"indexes": [
				{
					"columns": ["orderId"],
					"isPrimaryKey": false,
					"isUnique": false,
					"name": "item_orderId_index",
					"order": "ASC"
				}
			],
			"name": "item",
			"roles": [],
			"scopes": []
		},
		{
			"checkConstraints": [],
			"columns": [
				{
					"hasAutoIncrement": true,
					"isNullable": false,
					"isPrimary": true,
					"name": "id",
					"roles": [],
					"scopes": [],
					"type": "BIGSERIAL"
				},
				{
					"default": "now()",
					"isNullable": false,
					"name": "createdOn",
					"roles": [],
					"scopes": [],
					"type": "DATETIME"
				},
				{
					"default": "now()",
					"isNullable": false,
					"name": "modifiedOn",
					"roles": [],
					"scopes": [],
					"type": "DATETIME"
				},
				{
					"comment": "Foreign key to user(id)",
					"isNullable": false,
					"name": "userId",
					"roles": [],
					"scopes": [],
					"type": "BIGINT"
				},
				{ "isNullable": false, "name": "amountCents", "roles": [], "scopes": [], "type": "BIGINT" }
			],
			"foreignKeys": [
				{
					"column": "userId",
					"name": "order_userId_user_id_fk",
					"onDelete": "NO ACTION",
					"onUpdate": "NO ACTION",
					"refColumn": "id",
					"refTable": "user"
				}
			],
			"indexes": [
				{
					"columns": ["userId"],
					"isPrimaryKey": false,
					"isUnique": false,
					"name": "order_userId_index",
					"order": "ASC"
				}
			],
			"name": "order",
			"notify": "ALL",
			"roles": [],
			"scopes": []
		},
		{
			"checkConstraints": [],
			"columns": [
				{
					"hasAutoIncrement": true,
					"isNullable": false,
					"isPrimary": true,
					"name": "id",
					"roles": [],
					"scopes": [],
					"type": "BIGSERIAL"
				},
				{
					"default": "now()",
					"isNullable": false,
					"name": "createdOn",
					"roles": [],
					"scopes": [],
					"type": "DATETIME"
				},
				{
					"default": "now()",
					"isNullable": false,
					"name": "modifiedOn",
					"roles": [],
					"scopes": [],
					"type": "DATETIME"
				},
				{ "isNullable": true, "length": 255, "name": "name", "roles": [], "scopes": [], "type": "VARCHAR" }
			],
			"foreignKeys": [],
			"indexes": [
				{ "columns": ["id"], "isPrimaryKey": true, "isUnique": true, "name": "PRIMARY", "order": "ASC" }
			],
			"name": "company",
			"notify": "ALL",
			"roles": [],
			"scopes": []
		},
		{
			"checkConstraints": [],
			"columns": [
				{
					"hasAutoIncrement": true,
					"isNullable": false,
					"isPrimary": true,
					"name": "id",
					"roles": [],
					"scopes": [],
					"type": "BIGSERIAL"
				},
				{
					"default": "now()",
					"isNullable": false,
					"name": "createdOn",
					"roles": [],
					"scopes": [],
					"type": "DATETIME"
				},
				{
					"default": "now()",
					"isNullable": false,
					"name": "modifiedOn",
					"roles": [],
					"scopes": [],
					"type": "DATETIME"
				},
				{
					"isNullable": false,
					"length": 30,
					"name": "firstName",
					"roles": [],
					"scopes": [],
					"type": "VARCHAR"
				},
				{ "isNullable": false, "length": 30, "name": "lastName", "roles": [], "scopes": [], "type": "VARCHAR" },
				{
					"comment": "Foreign key to company(id)",
					"isNullable": false,
					"name": "companyId",
					"roles": [],
					"scopes": [],
					"type": "BIGINT"
				},
				{ "isNullable": false, "length": 70, "name": "password", "roles": [], "scopes": [], "type": "VARCHAR" },
				{ "isNullable": false, "length": 100, "name": "email", "roles": [], "scopes": [], "type": "VARCHAR" },
				{
					"isNullable": false,
					"name": "role",
					"roles": [],
					"scopes": [],
					"type": "ENUM",
					"value": "'admin','user'"
				},
				{
					"default": "true",
					"isNullable": false,
					"name": "permissionLogin",
					"roles": [],
					"scopes": [],
					"type": "BOOLEAN"
				},
				{ "isNullable": true, "name": "lastLoginOn", "roles": [], "scopes": [], "type": "DATETIME" },
				{ "isNullable": true, "length": 30, "name": "phone", "roles": [], "scopes": [], "type": "VARCHAR" },
				{
					"comment": "When user was disabled",
					"isNullable": true,
					"name": "loginDisabledOn",
					"roles": [],
					"scopes": [],
					"type": "DATETIME"
				},
				{
					"isNullable": true,
					"length": 100,
					"name": "passwordResetGuid",
					"roles": [],
					"scopes": [],
					"type": "VARCHAR"
				},
				{ "isNullable": true, "name": "verifyEmailPin", "roles": [], "scopes": [], "type": "MEDIUMINT" },
				{
					"isNullable": true,
					"name": "verifyEmailPinExpiresOn",
					"roles": [],
					"scopes": [],
					"type": "DATETIME"
				},
				{
					"default": "'view_only'",
					"isNullable": false,
					"name": "accountStatus",
					"roles": [],
					"scopes": [],
					"type": "ENUM",
					"value": "'banned','view_only','active'"
				},
				{
					"comment": "When guid is no longer valid",
					"isNullable": true,
					"name": "passwordResetExpiresOn",
					"roles": [],
					"scopes": [],
					"type": "DATETIME"
				},
				{
					"default": "'verify_email'",
					"isNullable": false,
					"name": "onboardingStatus",
					"roles": [],
					"scopes": [],
					"type": "ENUM",
					"value": "'verify_email','complete'"
				},
				{
					"isNullable": true,
					"length": 100,
					"name": "pendingEmail",
					"roles": [],
					"scopes": [],
					"type": "VARCHAR"
				},
				{
					"default": "0",
					"isNullable": false,
					"name": "testAge",
					"roles": [],
					"scopes": [],
					"type": "INTEGER"
				},
				{
					"default": "'{}'",
					"isNullable": false,
					"name": "metadata",
					"roles": [],
					"scopes": [],
					"type": "JSON"
				}
			],
			"foreignKeys": [
				{
					"column": "companyId",
					"name": "user_companyId_company_id_fk",
					"onDelete": "NO ACTION",
					"onUpdate": "NO ACTION",
					"refColumn": "id",
					"refTable": "company"
				}
			],
			"indexes": [
				{ "columns": ["id"], "isPrimaryKey": true, "isUnique": true, "name": "PRIMARY", "order": "ASC" },
				{
					"columns": ["companyId"],
					"isPrimaryKey": false,
					"isUnique": false,
					"name": "user_companyId_index",
					"order": "ASC"
				},
				{
					"columns": ["email"],
					"isPrimaryKey": false,
					"isUnique": true,
					"name": "user_email_unique_index",
					"order": "ASC"
				},
				{
					"columns": ["passwordResetGuid"],
					"isPrimaryKey": false,
					"isUnique": false,
					"name": "user_passwordResetGuid_index",
					"order": "ASC"
				}
			],
			"name": "user",
			"notify": ["id", "firstName", "lastName", "email", "phone"],
			"roles": [],
			"scopes": []
		}
	],
	"endpoints": [
		{
			"baseUrl": "/api/v1",
			"description": "V1 Endpoints",
			"name": "V1",
			"routes": [
				{
					"description": "Uploading a users avatar and updating the user",
					"fileUploadType": "SINGLE",
					"method": "POST",
					"name": "/user/me/avatar",
					"path": "/user/me/avatar",
					"request": [],
					"responseType": "boolean",
					"roles": ["admin", "user"],
					"scopes": [],
					"type": "CUSTOM_ONE"
				},
				{
					"assignments": [],
					"description": "Get my user",
					"joins": [],
					"method": "GET",
					"name": "get my user",
					"path": "/user/me",
					"request": [],
					"response": [
						{ "name": "id", "selector": "user.id" },
						{ "name": "firstName", "selector": "user.firstName" },
						{ "name": "lastName", "selector": "user.lastName" },
						{ "name": "email", "selector": "user.email" },
						{ "name": "phone", "selector": "user.phone" }
					],
					"roles": ["user", "admin"],
					"scopes": [],
					"table": "user",
					"type": "ONE",
					"where": [{ "columnName": "id", "operator": "=", "tableName": "user", "value": "#userId" }]
				},
				{
					"description": "User login endpoint",
					"method": "POST",
					"name": "Login",
					"path": "/user/login",
					"request": [
						{
							"name": "username",
							"required": true,
							"validator": [{ "type": "TYPE_CHECK", "value": "string" }]
						},
						{
							"name": "password",
							"required": true,
							"validator": [{ "type": "TYPE_CHECK", "value": "string" }]
						}
					],
					"responseType": "AuthResponse",
					"roles": [],
					"scopes": [],
					"type": "CUSTOM_ONE"
				},
				{
					"description": "Refresh an old, possibly expired token and returns a new token.",
					"method": "POST",
					"name": "Refreshes a Token",
					"path": "/user/refresh-token",
					"request": [],
					"responseType": "AuthResponse",
					"roles": [],
					"scopes": [],
					"type": "CUSTOM_ONE"
				},
				{
					"description": "Request to change email. Sends a verification email with pin",
					"method": "POST",
					"name": "Change Email Request",
					"path": "/user/change-email",
					"request": [
						{
							"name": "newEmail",
							"required": true,
							"validator": [{ "type": "TYPE_CHECK", "value": "string" }]
						}
					],
					"responseType": "boolean",
					"roles": ["admin", "user"],
					"scopes": [],
					"type": "CUSTOM_ONE"
				},
				{
					"description": "Commits an email change with a pin",
					"method": "PATCH",
					"name": "Commit Email Change",
					"path": "/user/change-email/commit",
					"request": [
						{ "name": "pin", "required": true, "validator": [{ "type": "TYPE_CHECK", "value": "number" }] }
					],
					"responseType": "boolean",
					"roles": ["admin", "user"],
					"scopes": [],
					"type": "CUSTOM_ONE"
				},
				{
					"description": "Creates a user.",
					"method": "POST",
					"name": "Create User",
					"path": "/user",
					"request": [
						{
							"name": "firstName",
							"required": true,
							"validator": [{ "type": "TYPE_CHECK", "value": "string" }]
						},
						{
							"name": "lastName",
							"required": true,
							"validator": [{ "type": "TYPE_CHECK", "value": "string" }]
						},
						{
							"name": "email",
							"required": true,
							"validator": [{ "type": "TYPE_CHECK", "value": "string" }]
						},
						{
							"name": "role",
							"required": true,
							"validator": [{ "type": "ONE_OF", "value": ["admin", "user"] }]
						},
						{
							"name": "password",
							"required": true,
							"validator": [{ "type": "TYPE_CHECK", "value": "string" }]
						},
						{
							"name": "phone",
							"required": false,
							"validator": [{ "type": "TYPE_CHECK", "value": "string" }]
						}
					],
					"responseType": "FilteredUser",
					"roles": ["admin"],
					"scopes": [],
					"type": "CUSTOM_ONE"
				},
				{
					"description": "Update an existing user.",
					"method": "PATCH",
					"name": "Update User",
					"path": "/user",
					"request": [
						{ "name": "id", "required": true, "validator": [{ "type": "TYPE_CHECK", "value": "number" }] },
						{
							"name": "firstName",
							"required": false,
							"validator": [{ "type": "TYPE_CHECK", "value": "string" }]
						},
						{
							"name": "lastName",
							"required": false,
							"validator": [{ "type": "TYPE_CHECK", "value": "string" }]
						},
						{
							"name": "email",
							"required": false,
							"validator": [{ "type": "TYPE_CHECK", "value": "string" }]
						},
						{
							"name": "role",
							"required": false,
							"validator": [{ "type": "ONE_OF", "value": ["admin", "user"] }]
						},
						{
							"name": "password",
							"required": false,
							"validator": [{ "type": "TYPE_CHECK", "value": "string" }]
						}
					],
					"responseType": "FilteredUser",
					"roles": ["admin"],
					"scopes": [],
					"type": "CUSTOM_ONE"
				},
				{
					"description": "User logout endpoint",
					"method": "POST",
					"name": "Logout",
					"path": "/user/logout",
					"request": [],
					"responseType": "boolean",
					"roles": ["admin", "user"],
					"scopes": [],
					"type": "CUSTOM_ONE"
				},
				{
					"description": "Checks if a given username or email or both are available or not",
					"method": "POST",
					"name": "Check Available",
					"path": "/user/check-available",
					"request": [
						{
							"name": "username",
							"required": false,
							"validator": [{ "type": "TYPE_CHECK", "value": "string" }]
						},
						{
							"name": "email",
							"required": false,
							"validator": [{ "type": "TYPE_CHECK", "value": "string" }]
						}
					],
					"responseType": "boolean",
					"roles": [],
					"scopes": [],
					"type": "CUSTOM_ONE"
				},
				{
					"description": "Verifies a user password to get past security checkpoints",
					"method": "POST",
					"name": "Verify User Password",
					"path": "/user/verify-password",
					"request": [
						{
							"name": "password",
							"required": true,
							"validator": [{ "type": "TYPE_CHECK", "value": "string" }]
						}
					],
					"responseType": "boolean",
					"roles": ["admin", "athlete", "fan", "recruiter"],
					"scopes": [],
					"type": "CUSTOM_ONE"
				},
				{
					"description": "Resend the email that sends out the verify email pin",
					"method": "POST",
					"name": "Resend Verify Email Pin",
					"path": "/user/resend-verify-email",
					"request": [],
					"responseType": "boolean",
					"roles": ["admin", "athlete", "fan", "recruiter"],
					"scopes": [],
					"type": "CUSTOM_ONE"
				},
				{
					"description": "Sends a forgot password request",
					"method": "POST",
					"name": "Forgot Password",
					"path": "/user/forgot-password",
					"request": [
						{
							"name": "email",
							"required": true,
							"validator": [{ "type": "TYPE_CHECK", "value": "string" }]
						}
					],
					"responseType": "boolean",
					"roles": [],
					"scopes": [],
					"type": "CUSTOM_ONE"
				},
				{
					"description": "Changes a password of the user",
					"method": "POST",
					"name": "Change Password",
					"path": "/user/change-password",
					"request": [
						{
							"name": "oldPassword",
							"required": true,
							"validator": [{ "type": "TYPE_CHECK", "value": "string" }]
						},
						{
							"name": "newPassword",
							"required": true,
							"validator": [{ "type": "TYPE_CHECK", "value": "string" }]
						}
					],
					"responseType": "boolean",
					"roles": ["admin", "user"],
					"scopes": [],
					"type": "CUSTOM_ONE"
				},
				{
					"description": "Resets a password using a reset password guid",
					"method": "POST",
					"name": "Reset Password",
					"path": "/user/reset-password",
					"request": [
						{
							"name": "guid",
							"required": true,
							"validator": [{ "type": "TYPE_CHECK", "value": "string" }]
						},
						{
							"name": "newPassword",
							"required": true,
							"validator": [{ "type": "TYPE_CHECK", "value": "string" }]
						}
					],
					"responseType": "boolean",
					"roles": [],
					"scopes": [],
					"type": "CUSTOM_ONE"
				},
				{
					"description": "Verifies an email given a pin",
					"method": "POST",
					"name": "Verify Email",
					"path": "/user/verify-email",
					"request": [
						{ "name": "pin", "required": true, "validator": [{ "type": "TYPE_CHECK", "value": "number" }] }
					],
					"responseType": "boolean",
					"roles": ["admin", "user"],
					"scopes": [],
					"type": "CUSTOM_ONE"
				},
				{
					"description": "Deletes the user that calls this. This is a post so we don't show password on url.",
					"method": "POST",
					"name": "Delete Me",
					"path": "/user/delete/me",
					"request": [
						{
							"name": "password",
							"required": true,
							"validator": [{ "type": "TYPE_CHECK", "value": "string" }]
						}
					],
					"responseType": "boolean",
					"roles": ["admin", "user"],
					"scopes": [],
					"type": "CUSTOM_ONE"
				},
				{
					"assignments": [],
					"description": "Update my user",
					"joins": [],
					"method": "PATCH",
					"name": "Update my user",
					"path": "/user/me",
					"request": [
						{
							"name": "firstName",
							"required": false,
							"validator": [{ "type": "TYPE_CHECK", "value": "string" }]
						},
						{
							"name": "lastName",
							"required": false,
							"validator": [{ "type": "TYPE_CHECK", "value": "string" }]
						},
						{
							"name": "email",
							"required": false,
							"validator": [{ "type": "TYPE_CHECK", "value": "string" }]
						},
						{
							"isNullable": true,
							"name": "phone",
							"required": false,
							"validator": [{ "type": "TYPE_CHECK", "value": "string" }]
						},
						{
							"name": "password",
							"required": false,
							"validator": [{ "type": "TYPE_CHECK", "value": "string" }]
						}
					],
					"response": [
						{ "name": "id", "selector": "user.id" },
						{ "name": "firstName", "selector": "user.firstName" },
						{ "name": "lastName", "selector": "user.lastName" },
						{ "name": "email", "selector": "user.email" },
						{ "name": "phone", "selector": "user.phone" }
					],
					"roles": ["user", "admin"],
					"scopes": [],
					"table": "user",
					"type": "ONE",
					"where": [{ "columnName": "id", "operator": "=", "tableName": "user", "value": "#userId" }]
				},
				{
					"description": "Gets the weather data from openweather.org",
					"method": "GET",
					"name": "Get Weather Data",
					"path": "/weather",
					"request": [
						{
							"name": "token",
							"required": true,
							"validator": [{ "type": "TYPE_CHECK", "value": "string" }]
						},
						{
							"name": "latitude",
							"required": true,
							"validator": [{ "type": "TYPE_CHECK", "value": "number" }]
						},
						{
							"name": "longitude",
							"required": true,
							"validator": [{ "type": "TYPE_CHECK", "value": "number" }]
						}
					],
					"responseType": "WeatherResponse",
					"roles": ["user", "admin"],
					"scopes": [],
					"type": "CUSTOM_ONE"
				},
				{
					"assignments": [],
					"description": "",
					"joins": [],
					"method": "GET",
					"name": "like test",
					"path": "/user/all",
					"request": [],
					"response": [
						{ "name": "id", "selector": "user.id" },
						{ "name": "createdOn", "selector": "user.createdOn" },
						{ "name": "modifiedOn", "selector": "user.modifiedOn" },
						{ "name": "firstName", "selector": "user.firstName" },
						{ "name": "lastName", "selector": "user.lastName" },
						{ "name": "companyId", "selector": "user.companyId" },
						{ "name": "password", "selector": "user.password" },
						{ "name": "email", "selector": "user.email" },
						{ "name": "role", "selector": "user.role" },
						{ "name": "permissionLogin", "selector": "user.permissionLogin" },
						{ "name": "lastLoginOn", "selector": "user.lastLoginOn" },
						{ "name": "phone", "selector": "user.phone" },
						{ "name": "loginDisabledOn", "selector": "user.loginDisabledOn" },
						{ "name": "passwordResetGuid", "selector": "user.passwordResetGuid" },
						{ "name": "verifyEmailPin", "selector": "user.verifyEmailPin" },
						{ "name": "verifyEmailPinExpiresOn", "selector": "user.verifyEmailPinExpiresOn" },
						{ "name": "accountStatus", "selector": "user.accountStatus" },
						{ "name": "passwordResetExpiresOn", "selector": "user.passwordResetExpiresOn" },
						{ "name": "onboardingStatus", "selector": "user.onboardingStatus" },
						{ "name": "pendingEmail", "selector": "user.pendingEmail" },
						{ "name": "testAge", "selector": "user.testAge" },
						{ "name": "metadata", "selector": "user.metadata" }
					],
					"roles": [],
					"scopes": [],
					"table": "user",
					"type": "ARRAY",
					"where": [
						{ "columnName": "firstName", "operator": "NOT LIKE", "tableName": "user", "value": "bill" }
					]
				},
				{
					"assignments": [],
					"description": "Multi Join",
					"joins": [
						{
							"alias": "userId_user",
							"foreignColumnName": "id",
							"localColumnName": "userId",
							"table": "user",
							"type": "INNER"
						},
						{
							"alias": "companyId_company",
							"foreignColumnName": "id",
							"localColumnName": "companyId",
							"localTable": "user",
							"localTableAlias": "userId_user",
							"table": "company",
							"type": "INNER"
						}
					],
					"method": "GET",
					"name": "Orders With Joins",
					"path": "/order/all",
					"request": [],
					"response": [
						{ "name": "id", "selector": "order.id" },
						{ "name": "userFirstName", "selector": "userId_user.firstName" },
						{ "name": "userLastName", "selector": "userId_user.lastName" },
						{ "name": "companyName", "selector": "companyId_company.name" }
					],
					"roles": [],
					"scopes": [],
					"table": "order",
					"type": "ARRAY",
					"where": []
				},
				{
					"assignments": [],
					"description": "",
					"joins": [
						{
							"alias": "custom_company",
							"custom": "\"user\".\"companyId\" = \"custom_company\".\"id\" AND \"user\".\"createdOn\" < $date",
							"table": "company",
							"type": "INNER"
						}
					],
					"method": "GET",
					"name": "Users Before Join",
					"path": "/user/before",
					"request": [
						{ "name": "date", "required": true, "validator": [{ "type": "TYPE_CHECK", "value": "string" }] }
					],
					"response": [
						{ "name": "id", "selector": "user.id" },
						{ "name": "firstName", "selector": "user.firstName" },
						{ "name": "lastName", "selector": "user.lastName" },
						{ "name": "companyName", "selector": "custom_company.name" }
					],
					"roles": [],
					"scopes": [],
					"table": "user",
					"type": "ARRAY",
					"where": []
				}
			]
		}
	],
	"globalParams": ["companyId", "userId"],
	"roles": ["admin", "user", "anonymous"],
	"scopes": []
}
